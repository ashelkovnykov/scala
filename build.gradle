allprojects {
    apply plugin: 'idea'
}

subprojects {
    repositories {
        mavenCentral()
    }

    // Put the build dir into the rootProject
    buildDir = "../build/$name"

    tasks.withType(ScalaCompile) {
        scalaCompileOptions.additionalParameters = ["-feature", "-deprecation", "-verbose", "-optimize", "-unchecked", "-Yinline-warnings"]
    }

    idea {
        module {
            testSourceDirs += file('src/test/scala')
        }
    }

    // This task allows to get the dependencies from all the sub-project from the main photon-ml directory
    // (otherwise, you have to change to each sub-project directory to get its dependencies)
    task allDeps(type: DependencyReportTask) {}
}
